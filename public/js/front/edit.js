/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module) {// Generated by CoffeeScript 1.12.1\n(function() {\n  var Parser,\n    slice = [].slice;\n\n  Parser = (function() {\n    var array_keys, array_values, htmlspecialchars, preg_quote, str_replace, trim, ucfirst;\n\n    ucfirst = function(str) {\n      return (str.charAt(0)).toUpperCase() + str.substring(1);\n    };\n\n    preg_quote = function(str) {\n      return str.replace(/[-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    };\n\n    str_replace = function(search, replace, str) {\n      var i, j, l, len, len1, val;\n      if (search instanceof Array) {\n        if (replace instanceof Array) {\n          for (i = j = 0, len = search.length; j < len; i = ++j) {\n            val = search[i];\n            str = str_replace(val, replace[i], str);\n          }\n        } else {\n          for (l = 0, len1 = search.length; l < len1; l++) {\n            val = search[l];\n            str = str_replace(val, replace, str);\n          }\n        }\n      } else {\n        search = preg_quote(search);\n        str = str.replace(new RegExp(search, 'g'), replace);\n      }\n      return str;\n    };\n\n    htmlspecialchars = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n    };\n\n    trim = function(str, ch) {\n      var c, i, j, ref, search;\n      if (ch == null) {\n        ch = null;\n      }\n      if (ch != null) {\n        search = '';\n        for (i = j = 0, ref = ch.length - 1; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {\n          c = ch[i];\n          c = preg_quote(c);\n          search += c;\n        }\n        search = '[' + search + ']*';\n        return str.replace(new RegExp('^' + search), '').replace(new RegExp(search + '$'), '');\n      } else {\n        return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n      }\n    };\n\n    array_keys = function(arr) {\n      var _, j, k, len, result;\n      result = [];\n      if (arr instanceof Array) {\n        for (k = j = 0, len = arr.length; j < len; k = ++j) {\n          _ = arr[k];\n          result.push(k);\n        }\n      } else {\n        for (k in arr) {\n          result.push(k);\n        }\n      }\n      return result;\n    };\n\n    array_values = function(arr) {\n      var _, j, len, result, v;\n      result = [];\n      if (arr instanceof Array) {\n        for (j = 0, len = arr.length; j < len; j++) {\n          v = arr[j];\n          result.push(v);\n        }\n      } else {\n        for (_ in arr) {\n          v = arr[_];\n          result.push(v);\n        }\n      }\n      return result;\n    };\n\n    function Parser() {\n      this.commonWhiteList = 'kbd|b|i|strong|em|sup|sub|br|code|del|a|hr|small';\n      this.specialWhiteList = {\n        table: 'table|tbody|thead|tfoot|tr|td|th'\n      };\n      this.hooks = {};\n    }\n\n    Parser.prototype.makeHtml = function(text) {\n      var html;\n      this.footnotes = [];\n      this.definitions = {};\n      this.holders = {};\n      this.uniqid = (Math.ceil(Math.random() * 10000000)) + (Math.ceil(Math.random() * 10000000));\n      this.id = 0;\n      text = this.initText(text);\n      html = this.parse(text);\n      html = this.makeFootnotes(html);\n      return this.call('makeHtml', html);\n    };\n\n    Parser.prototype.hook = function(type, cb) {\n      if (this.hooks[type] == null) {\n        this.hooks[type] = [];\n      }\n      return this.hooks[type].push(cb);\n    };\n\n    Parser.prototype.makeHolder = function(str) {\n      var key;\n      key = \"|\\r\" + this.uniqid + this.id + \"\\r|\";\n      this.id += 1;\n      this.holders[key] = str;\n      return key;\n    };\n\n    Parser.prototype.initText = function(text) {\n      return text.replace(/\\t/g, '    ').replace(/\\r/g, '');\n    };\n\n    Parser.prototype.makeFootnotes = function(html) {\n      var index, val;\n      if (this.footnotes.length > 0) {\n        html += '<div class=\"footnotes\"><hr><ol>';\n        index = 1;\n        while (val = this.footnotes.shift()) {\n          if (typeof val === 'string') {\n            val += \" <a href=\\\"#fnref-\" + index + \"\\\" class=\\\"footnote-backref\\\">&#8617;</a>\";\n          } else {\n            val[val.length - 1] += \" <a href=\\\"#fnref-\" + index + \"\\\" class=\\\"footnote-backref\\\">&#8617;</a>\";\n            val = val.length > 1 ? this.parse(val.join(\"\\n\")) : this.parseInline(val[0]);\n          }\n          html += \"<li id=\\\"fn-\" + index + \"\\\">\" + val + \"</li>\";\n          index += 1;\n        }\n        html += '</ol></div>';\n      }\n      return html;\n    };\n\n    Parser.prototype.parse = function(text) {\n      var block, blocks, end, extract, html, j, len, lines, method, result, start, type, value;\n      lines = [];\n      blocks = this.parseBlock(text, lines);\n      html = '';\n      for (j = 0, len = blocks.length; j < len; j++) {\n        block = blocks[j];\n        type = block[0], start = block[1], end = block[2], value = block[3];\n        extract = lines.slice(start, end + 1);\n        method = 'parse' + ucfirst(type);\n        extract = this.call('before' + ucfirst(method), extract, value);\n        result = this[method](extract, value);\n        result = this.call('after' + ucfirst(method), result, value);\n        html += result;\n      }\n      return html;\n    };\n\n    Parser.prototype.call = function() {\n      var args, callback, j, len, ref, type, value;\n      type = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      value = args[0];\n      if (this.hooks[type] == null) {\n        return value;\n      }\n      ref = this.hooks[type];\n      for (j = 0, len = ref.length; j < len; j++) {\n        callback = ref[j];\n        value = callback.apply(this, args);\n        args[0] = value;\n      }\n      return value;\n    };\n\n    Parser.prototype.releaseHolder = function(text, clearHolders) {\n      var deep;\n      if (clearHolders == null) {\n        clearHolders = true;\n      }\n      deep = 0;\n      while ((text.indexOf(\"\\r\")) >= 0 && deep < 10) {\n        text = str_replace(array_keys(this.holders), array_values(this.holders), text);\n        deep += 1;\n      }\n      if (clearHolders) {\n        this.holders = {};\n      }\n      return text;\n    };\n\n    Parser.prototype.parseInline = function(text, whiteList, clearHolders, enableAutoLink) {\n      if (whiteList == null) {\n        whiteList = '';\n      }\n      if (clearHolders == null) {\n        clearHolders = true;\n      }\n      if (enableAutoLink == null) {\n        enableAutoLink = true;\n      }\n      text = this.call('beforeParseInline', text);\n      text = text.replace(/(^|[^\\\\])(`+)(.+?)\\2/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return matches[1] + _this.makeHolder('<code>' + (htmlspecialchars(matches[3])) + '</code>');\n        };\n      })(this));\n      text = text.replace(/\\\\(.)/g, (function(_this) {\n        return function() {\n          var escaped, matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          escaped = htmlspecialchars(matches[1]);\n          escaped = escaped.replace(/\\$/g, '&dollar;');\n          return _this.makeHolder(escaped);\n        };\n      })(this));\n      text = text.replace(/<(https?:\\/\\/.+)>/ig, (function(_this) {\n        return function() {\n          var link, matches, url;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          url = _this.cleanUrl(matches[1]);\n          link = _this.call('parseLink', matches[1]);\n          return _this.makeHolder(\"<a href=\\\"\" + url + \"\\\">\" + link + \"</a>\");\n        };\n      })(this));\n      text = text.replace(/<(\\/?)([a-z0-9-]+)(\\s+[^>]*)?>/ig, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          if ((('|' + _this.commonWhiteList + '|' + whiteList + '|').indexOf('|' + matches[2].toLowerCase() + '|')) >= 0) {\n            return _this.makeHolder(matches[0]);\n          } else {\n            return htmlspecialchars(matches[0]);\n          }\n        };\n      })(this));\n      text = str_replace(['<', '>'], ['&lt;', '&gt;'], text);\n      text = text.replace(/\\[\\^((?:[^\\]]|\\\\\\]|\\\\\\[)+?)\\]/g, (function(_this) {\n        return function() {\n          var id, matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          id = _this.footnotes.indexOf(matches[1]);\n          if (id < 0) {\n            id = _this.footnotes.length + 1;\n            _this.footnotes.push(_this.parseInline(matches[1], '', false));\n          }\n          return _this.makeHolder(\"<sup id=\\\"fnref-\" + id + \"\\\"><a href=\\\"#fn-\" + id + \"\\\" class=\\\"footnote-ref\\\">\" + id + \"</a></sup>\");\n        };\n      })(this));\n      text = text.replace(/!\\[((?:[^\\]]|\\\\\\]|\\\\\\[)*?)\\]\\(((?:[^\\)]|\\\\\\)|\\\\\\()+?)\\)/g, (function(_this) {\n        return function() {\n          var escaped, matches, url;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          escaped = _this.escapeBracket(matches[1]);\n          url = _this.escapeBracket(matches[2]);\n          url = _this.cleanUrl(url);\n          return _this.makeHolder(\"<img src=\\\"\" + url + \"\\\" alt=\\\"\" + escaped + \"\\\" title=\\\"\" + escaped + \"\\\">\");\n        };\n      })(this));\n      text = text.replace(/!\\[((?:[^\\]]|\\\\\\]|\\\\\\[)*?)\\]\\[((?:[^\\]]|\\\\\\]|\\\\\\[)+?)\\]/g, (function(_this) {\n        return function() {\n          var escaped, matches, result;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          escaped = _this.escapeBracket(matches[1]);\n          result = _this.definitions[matches[2]] != null ? \"<img src=\\\"\" + _this.definitions[matches[2]] + \"\\\" alt=\\\"\" + escaped + \"\\\" title=\\\"\" + escaped + \"\\\">\" : escaped;\n          return _this.makeHolder(result);\n        };\n      })(this));\n      text = text.replace(/\\[((?:[^\\]]|\\\\\\]|\\\\\\[)+?)\\]\\(((?:[^\\)]|\\\\\\)|\\\\\\()+?)\\)/g, (function(_this) {\n        return function() {\n          var escaped, matches, url;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          escaped = _this.parseInline(_this.escapeBracket(matches[1]), '', false, false);\n          url = _this.escapeBracket(matches[2]);\n          url = _this.cleanUrl(url);\n          return _this.makeHolder(\"<a href=\\\"\" + url + \"\\\">\" + escaped + \"</a>\");\n        };\n      })(this));\n      text = text.replace(/\\[((?:[^\\]]|\\\\\\]|\\\\\\[)+?)\\]\\[((?:[^\\]]|\\\\\\]|\\\\\\[)+?)\\]/g, (function(_this) {\n        return function() {\n          var escaped, matches, result;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          escaped = _this.parseInline(_this.escapeBracket(matches[1]), '', false, false);\n          result = _this.definitions[matches[2]] != null ? \"<a href=\\\"\" + _this.definitions[matches[2]] + \"\\\">\" + escaped + \"</a>\" : escaped;\n          return _this.makeHolder(result);\n        };\n      })(this));\n      text = this.parseInlineCallback(text);\n      text = text.replace(/<([_a-z0-9-\\.\\+]+@[^@]+\\.[a-z]{2,})>/ig, '<a href=\"mailto:$1\">$1</a>');\n      if (enableAutoLink) {\n        text = text.replace(/(^|[^\"])((https?):[x80-xff_a-z0-9-\\.\\/%#!@\\?\\+=~\\|\\,&\\(\\)]+)($|[^\"])/ig, (function(_this) {\n          return function() {\n            var link, matches;\n            matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            link = _this.call('parseLink', matches[2]);\n            return matches[1] + \"<a href=\\\"\" + matches[2] + \"\\\">\" + link + \"</a>\" + matches[4];\n          };\n        })(this));\n      }\n      text = this.call('afterParseInlineBeforeRelease', text);\n      text = this.releaseHolder(text, clearHolders);\n      text = this.call('afterParseInline', text);\n      return text;\n    };\n\n    Parser.prototype.parseInlineCallback = function(text) {\n      text = text.replace(/(\\*{3})((?:.|\\r)+?)\\1/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return '<strong><em>' + (_this.parseInlineCallback(matches[2])) + '</em></strong>';\n        };\n      })(this));\n      text = text.replace(/(\\*{2})((?:.|\\r)+?)\\1/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return '<strong>' + (_this.parseInlineCallback(matches[2])) + '</strong>';\n        };\n      })(this));\n      text = text.replace(/(\\*)((?:.|\\r)+?)\\1/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return '<em>' + (_this.parseInlineCallback(matches[2])) + '</em>';\n        };\n      })(this));\n      text = text.replace(/(\\s+|^)(_{3})((?:.|\\r)+?)\\2(\\s+|$)/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return matches[1] + '<strong><em>' + (_this.parseInlineCallback(matches[3])) + '</em></strong>' + matches[4];\n        };\n      })(this));\n      text = text.replace(/(\\s+|^)(_{2})((?:.|\\r)+?)\\2(\\s+|$)/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return matches[1] + '<strong>' + (_this.parseInlineCallback(matches[3])) + '</strong>' + matches[4];\n        };\n      })(this));\n      text = text.replace(/(\\s+|^)(_)((?:.|\\r)+?)\\2(\\s+|$)/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return matches[1] + '<em>' + (_this.parseInlineCallback(matches[3])) + '</em>' + matches[4];\n        };\n      })(this));\n      text = text.replace(/(~{2})((?:.|\\r)+?)\\1/mg, (function(_this) {\n        return function() {\n          var matches;\n          matches = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return '<del>' + (_this.parseInlineCallback(matches[2])) + '</del>';\n        };\n      })(this));\n      return text;\n    };\n\n    Parser.prototype.parseBlock = function(text, lines) {\n      var align, aligns, block, emptyCount, head, isAfterList, j, key, l, len, len1, len2, line, m, matches, num, ref, row, rows, space, special, tag;\n      ref = text.split(\"\\n\");\n      for (j = 0, len = ref.length; j < len; j++) {\n        line = ref[j];\n        lines.push(line);\n      }\n      this.blocks = [];\n      this.current = 'normal';\n      this.pos = -1;\n      special = (array_keys(this.specialWhiteList)).join('|');\n      emptyCount = 0;\n      for (key = l = 0, len1 = lines.length; l < len1; key = ++l) {\n        line = lines[key];\n        block = this.getBlock();\n        if (block != null) {\n          block = block.slice(0);\n        }\n        if (!!(matches = line.match(/^(\\s*)(~|`){3,}([^`~]*)$/i))) {\n          if (this.isBlock('code')) {\n            isAfterList = block[3][2];\n            if (isAfterList) {\n              this.combineBlock().setBlock(key);\n            } else {\n              (this.setBlock(key)).endBlock();\n            }\n          } else {\n            isAfterList = false;\n            if (this.isBlock('list')) {\n              space = block[3];\n              isAfterList = (space > 0 && matches[1].length >= space) || matches[1].length > space;\n            }\n            this.startBlock('code', key, [matches[1], matches[3], isAfterList]);\n          }\n          continue;\n        } else if (this.isBlock('code')) {\n          this.setBlock(key);\n          continue;\n        }\n        if (!!(matches = line.match(new RegExp(\"^\\\\s*<(\" + special + \")(\\\\s+[^>]*)?>\", 'i')))) {\n          tag = matches[1].toLowerCase();\n          if (!(this.isBlock('html', tag)) && !(this.isBlock('pre'))) {\n            this.startBlock('html', key, tag);\n          }\n          continue;\n        } else if (!!(matches = line.match(new RegExp(\"</(\" + special + \")>\\\\s*$\", 'i')))) {\n          tag = matches[1].toLowerCase();\n          if (this.isBlock('html', tag)) {\n            this.setBlock(key).endBlock();\n          }\n          continue;\n        } else if (this.isBlock('html')) {\n          this.setBlock(key);\n          continue;\n        }\n        switch (true) {\n          case !!(line.match(/^ {4}/)):\n            emptyCount = 0;\n            if ((this.isBlock('pre')) || this.isBlock('list')) {\n              this.setBlock(key);\n            } else {\n              this.startBlock('pre', key);\n            }\n            break;\n          case !!(matches = line.match(/^(\\s*)((?:[0-9a-z]+\\.)|\\-|\\+|\\*)\\s+/)):\n            space = matches[1].length;\n            emptyCount = 0;\n            if (this.isBlock('list')) {\n              this.setBlock(key, space);\n            } else {\n              this.startBlock('list', key, space);\n            }\n            break;\n          case !!(matches = line.match(/^\\[\\^((?:[^\\]]|\\]|\\[)+?)\\]:/)):\n            space = matches[0].length - 1;\n            this.startBlock('footnote', key, [space, matches[1]]);\n            break;\n          case !!(matches = line.match(/^\\s*\\[((?:[^\\]]|\\]|\\[)+?)\\]:\\s*(.+)$/)):\n            this.definitions[matches[1]] = this.cleanUrl(matches[2]);\n            this.startBlock('definition', key).endBlock();\n            break;\n          case !!(line.match(/^\\s*>/)):\n            if (this.isBlock('quote')) {\n              this.setBlock(key);\n            } else {\n              this.startBlock('quote', key);\n            }\n            break;\n          case !!(matches = line.match(/^((?:(?:(?:[ :]*\\-[ :]*)+(?:\\||\\+))|(?:(?:\\||\\+)(?:[ :]*\\-[ :]*)+)|(?:(?:[ :]*\\-[ :]*)+(?:\\||\\+)(?:[ :]*\\-[ :]*)+))+)$/)):\n            if (this.isBlock('table')) {\n              block[3][0].push(block[3][2]);\n              block[3][2] += 1;\n              this.setBlock(key, block[3]);\n            } else {\n              head = 0;\n              if ((block == null) || block[0] !== 'normal' || lines[block[2]].match(/^\\s*$/)) {\n                this.startBlock('table', key);\n              } else {\n                head = 1;\n                this.backBlock(1, 'table');\n              }\n              if (matches[1][0] === '|') {\n                matches[1] = matches[1].substring(1);\n                if (matches[1][matches[1].length - 1] === '|') {\n                  matches[1] = matches[1].substring(0, matches[1].length - 1);\n                }\n              }\n              rows = matches[1].split(/\\+|\\|/);\n              aligns = [];\n              for (m = 0, len2 = rows.length; m < len2; m++) {\n                row = rows[m];\n                align = 'none';\n                if (!!(matches = row.match(/^\\s*(:?)\\-+(:?)\\s*$/))) {\n                  if (!!matches[1] && !!matches[2]) {\n                    align = 'center';\n                  } else if (!!matches[1]) {\n                    align = 'left';\n                  } else if (!!matches[2]) {\n                    align = 'right';\n                  }\n                }\n                aligns.push(align);\n              }\n              this.setBlock(key, [[head], aligns, head + 1]);\n            }\n            break;\n          case !!(matches = line.match(/^(#+)(.*)$/)):\n            num = Math.min(matches[1].length, 6);\n            this.startBlock('sh', key, num).endBlock();\n            break;\n          case !!(matches = line.match(/^\\s*((=|-){2,})\\s*$/)) && ((block != null) && block[0] === 'normal' && !lines[block[2]].match(/^\\s*$/)):\n            if (this.isBlock('normal')) {\n              this.backBlock(1, 'mh', matches[1][0] === '=' ? 1 : 2).setBlock(key).endBlock();\n            } else {\n              this.startBlock('normal', key);\n            }\n            break;\n          case !!(line.match(/^[-\\*]{3,}\\s*$/)):\n            this.startBlock('hr', key).endBlock();\n            break;\n          default:\n            if (this.isBlock('list')) {\n              if (line.match(/^(\\s*)/)) {\n                if (emptyCount > 0) {\n                  this.startBlock('normal', key);\n                } else {\n                  this.setBlock(key);\n                }\n                emptyCount += 1;\n              } else if (emptyCount === 0) {\n                this.setBlock(key);\n              } else {\n                this.startBlock('normal', key);\n              }\n            } else if (this.isBlock('footnote')) {\n              matches = line.match(/^(\\s*)/);\n              if (matches[1].length >= block[3][0]) {\n                this.setBlock(key);\n              } else {\n                this.startBlock('normal', key);\n              }\n            } else if (this.isBlock('table')) {\n              if (0 <= line.indexOf('|')) {\n                block[3][2] += 1;\n                this.setBlock(key, block[3]);\n              } else {\n                this.startBlock('normal', key);\n              }\n            } else if (this.isBlock('pre')) {\n              if (line.match(/^\\s*$/)) {\n                if (emptyCount > 0) {\n                  this.startBlock('normal', key);\n                } else {\n                  this.setBlock(key);\n                }\n                emptyCount += 1;\n              } else {\n                this.startBlock('normal', key);\n              }\n            } else if (this.isBlock('quote')) {\n              if (line.match(/^(\\s*)/)) {\n                if (emptyCount > 0) {\n                  this.startBlock('normal', key);\n                } else {\n                  this.setBlock(key);\n                }\n                emptyCount += 1;\n              } else if (emptyCount === 0) {\n                this.setBlock(key);\n              } else {\n                this.startBlock('normal', key);\n              }\n            } else {\n              if ((block == null) || block[0] !== 'normal') {\n                this.startBlock('normal', key);\n              } else {\n                this.setBlock(key);\n              }\n            }\n        }\n      }\n      return this.optimizeBlocks(this.blocks, lines);\n    };\n\n    Parser.prototype.optimizeBlocks = function(_blocks, _lines) {\n      var block, blocks, from, isEmpty, key, lines, moved, nextBlock, prevBlock, to, type, types;\n      blocks = _blocks.slice(0);\n      lines = _lines.slice(0);\n      blocks = this.call('beforeOptimizeBlocks', blocks, lines);\n      key = 0;\n      while (blocks[key] != null) {\n        moved = false;\n        block = blocks[key];\n        prevBlock = blocks[key - 1] != null ? blocks[key - 1] : null;\n        nextBlock = blocks[key + 1] != null ? blocks[key + 1] : null;\n        type = block[0], from = block[1], to = block[2];\n        if ('pre' === type) {\n          isEmpty = lines.reduce(function(result, line) {\n            return (line.match(/^\\s*$/)) && result;\n          }, true);\n          if (isEmpty) {\n            block[0] = type = 'normal';\n          }\n        }\n        if ('normal' === type) {\n          types = ['list', 'quote'];\n          if (from === to && (lines[from].match(/^\\s*$/)) && (prevBlock != null) && (nextBlock != null)) {\n            if (prevBlock[0] === nextBlock[0] && (types.indexOf(prevBlock[0])) >= 0) {\n              blocks[key - 1] = [prevBlock[0], prevBlock[1], nextBlock[2], null];\n              blocks.splice(key, 2);\n              moved = true;\n            }\n          }\n        }\n        if (!moved) {\n          key += 1;\n        }\n      }\n      return this.call('afterOptimizeBlocks', blocks, lines);\n    };\n\n    Parser.prototype.parseCode = function(lines, parts) {\n      var blank, count, lang, rel, str;\n      blank = parts[0], lang = parts[1];\n      lang = trim(lang);\n      count = blank.length;\n      if (!lang.match(/^[_a-z0-9-\\+\\#\\:\\.]+$/i)) {\n        lang = null;\n      } else {\n        parts = lang.split(':');\n        if (parts.length > 1) {\n          lang = parts[0], rel = parts[1];\n          lang = trim(lang);\n          rel = trim(rel);\n        }\n      }\n      lines = lines.slice(1, -1).map(function(line) {\n        return line.replace(new RegExp(\"/^[ ]{\" + count + \"}/\"), '');\n      });\n      str = lines.join(\"\\n\");\n      if (str.match(/^\\s*$/)) {\n        return '';\n      } else {\n        return '<pre><code' + (!!lang ? \" class=\\\"\" + lang + \"\\\"\" : '') + (!!rel ? \" rel=\\\"\" + rel + \"\\\"\" : '') + '>' + (htmlspecialchars(str)) + '</code></pre>';\n      }\n    };\n\n    Parser.prototype.parsePre = function(lines) {\n      var str;\n      lines = lines.map(function(line) {\n        return htmlspecialchars(line.substring(4));\n      });\n      str = lines.join(\"\\n\");\n      if (str.match(/^\\s*$/)) {\n        return '';\n      } else {\n        return '<pre><code>' + str + '</code></pre>';\n      }\n    };\n\n    Parser.prototype.parseSh = function(lines, num) {\n      var line;\n      line = this.parseInline(trim(lines[0], '# '));\n      if (line.match(/^\\s*$/)) {\n        return '';\n      } else {\n        return \"<h\" + num + \">\" + line + \"</h\" + num + \">\";\n      }\n    };\n\n    Parser.prototype.parseMh = function(lines, num) {\n      return this.parseSh(lines, num);\n    };\n\n    Parser.prototype.parseQuote = function(lines) {\n      var str;\n      lines = lines.map(function(line) {\n        return line.replace(/^\\s*> ?/, '');\n      });\n      str = lines.join(\"\\n\");\n      if (str.match(/^\\s*$/)) {\n        return '';\n      } else {\n        return '<blockquote>' + (this.parse(str)) + '</blockquote>';\n      }\n    };\n\n    Parser.prototype.parseList = function(lines) {\n      var found, html, j, key, l, lastType, leftLines, len, len1, len2, line, m, matches, minSpace, row, rows, secondMinSpace, space, text, type;\n      html = '';\n      minSpace = 99999;\n      rows = [];\n      for (key = j = 0, len = lines.length; j < len; key = ++j) {\n        line = lines[key];\n        if (matches = line.match(/^(\\s*)((?:[0-9a-z]+\\.?)|\\-|\\+|\\*)(\\s+)(.*)$/)) {\n          space = matches[1].length;\n          type = 0 <= '+-*'.indexOf(matches[2]) ? 'ul' : 'ol';\n          minSpace = Math.min(space, minSpace);\n          rows.push([space, type, line, matches[4]]);\n        } else {\n          rows.push(line);\n        }\n      }\n      found = false;\n      secondMinSpace = 99999;\n      for (l = 0, len1 = rows.length; l < len1; l++) {\n        row = rows[l];\n        if (row instanceof Array && row[0] !== minSpace) {\n          secondMinSpace = Math.min(secondMinSpace, row[0]);\n          found = true;\n        }\n      }\n      secondMinSpace = found ? secondMinSpace : minSpace;\n      lastType = '';\n      leftLines = [];\n      for (m = 0, len2 = rows.length; m < len2; m++) {\n        row = rows[m];\n        if (row instanceof Array) {\n          space = row[0], type = row[1], line = row[2], text = row[3];\n          if (space !== minSpace) {\n            leftLines.push(line.replace(new RegExp(\"^\\\\s{\" + secondMinSpace + \"}\"), ''));\n          } else {\n            if (leftLines.length > 0) {\n              html += '<li>' + (this.parse(leftLines.join(\"\\n\"))) + '</li>';\n            }\n            if (lastType !== type) {\n              if (!!lastType) {\n                html += \"</\" + lastType + \">\";\n              }\n              html += \"<\" + type + \">\";\n            }\n            leftLines = [text];\n            lastType = type;\n          }\n        } else {\n          leftLines.push(row.replace(new RegExp(\"^\\\\s{\" + secondMinSpace + \"}\"), ''));\n        }\n      }\n      if (leftLines.length > 0) {\n        html += '<li>' + (this.parse(leftLines.join(\"\\n\"))) + (\"</li></\" + lastType + \">\");\n      }\n      return html;\n    };\n\n    Parser.prototype.parseTable = function(lines, value) {\n      var aligns, body, column, columns, head, html, ignores, j, key, l, last, len, len1, line, num, output, row, rows, tag, text;\n      ignores = value[0], aligns = value[1];\n      head = ignores.length > 0 && (ignores.reduce(function(prev, curr) {\n        return curr + prev;\n      })) > 0;\n      html = '<table>';\n      body = head ? null : true;\n      output = false;\n      for (key = j = 0, len = lines.length; j < len; key = ++j) {\n        line = lines[key];\n        if (0 <= ignores.indexOf(key)) {\n          if (head && output) {\n            head = false;\n            body = true;\n          }\n          continue;\n        }\n        line = trim(line);\n        output = true;\n        if (line[0] === '|') {\n          line = line.substring(1);\n          if (line[line.length - 1] === '|') {\n            line = line.substring(0, line.length - 1);\n          }\n        }\n        rows = line.split('|').map(function(row) {\n          if (row.match(/^\\s+$/)) {\n            return '';\n          } else {\n            return trim(row);\n          }\n        });\n        columns = {};\n        last = -1;\n        for (l = 0, len1 = rows.length; l < len1; l++) {\n          row = rows[l];\n          if (row.length > 0) {\n            last += 1;\n            columns[last] = [(columns[last] != null ? columns[last][0] + 1 : 1), row];\n          } else if (columns[last] != null) {\n            columns[last][0] += 1;\n          } else {\n            columns[0] = [1, row];\n          }\n        }\n        if (head) {\n          html += '<thead>';\n        } else if (body) {\n          html += '<tbody>';\n        }\n        html += '<tr>';\n        for (key in columns) {\n          column = columns[key];\n          num = column[0], text = column[1];\n          tag = head ? 'th' : 'td';\n          html += \"<\" + tag;\n          if (num > 1) {\n            html += \" colspan=\\\"\" + num + \"\\\"\";\n          }\n          if ((aligns[key] != null) && aligns[key] !== 'none') {\n            html += \" align=\\\"\" + aligns[key] + \"\\\"\";\n          }\n          html += '>' + (this.parseInline(text)) + (\"</\" + tag + \">\");\n        }\n        html += '</tr>';\n        if (head) {\n          html += '</thead>';\n        } else if (body) {\n          body = false;\n        }\n      }\n      if (body !== null) {\n        html += '</tbody>';\n      }\n      return html += '</table>';\n    };\n\n    Parser.prototype.parseHr = function() {\n      return '<hr>';\n    };\n\n    Parser.prototype.parseNormal = function(lines) {\n      var str;\n      lines = lines.map((function(_this) {\n        return function(line) {\n          return _this.parseInline(line);\n        };\n      })(this));\n      str = trim(lines.join(\"\\n\"));\n      str = str.replace(/(\\n\\s*){2,}/g, '</p><p>');\n      str = str.replace(/\\n/g, '<br>');\n      if (str.match(/^\\s*$/)) {\n        return '';\n      } else {\n        return \"<p>\" + str + \"</p>\";\n      }\n    };\n\n    Parser.prototype.parseFootnote = function(lines, value) {\n      var index, note, space;\n      space = value[0], note = value[1];\n      index = this.footnotes.indexOf(note);\n      if (index >= 0) {\n        lines = lines.slice(0);\n        lines[0] = lines[0].replace(/^\\[\\^((?:[^\\]]|\\]|\\[)+?)\\]:/, '');\n        this.footnotes[index] = lines;\n      }\n      return '';\n    };\n\n    Parser.prototype.parseDefinition = function() {\n      return '';\n    };\n\n    Parser.prototype.parseHtml = function(lines, type) {\n      lines = lines.map((function(_this) {\n        return function(line) {\n          return _this.parseInline(line, _this.specialWhiteList[type] != null ? _this.specialWhiteList[type] : '');\n        };\n      })(this));\n      return lines.join(\"\\n\");\n    };\n\n    Parser.prototype.cleanUrl = function(url) {\n      var matches;\n      if (!!(matches = url.match(/^\\s*((http|https|ftp|mailto):[x80-xff_a-z0-9-\\.\\/%#@\\?\\+=~\\|\\,&\\(\\)]+)/i))) {\n        matches[1];\n      }\n      if (!!(matches = url.match(/^\\s*([x80-xff_a-z0-9-\\.\\/%#@\\?\\+=~\\|\\,&]+)/i))) {\n        return matches[1];\n      } else {\n        return '#';\n      }\n    };\n\n    Parser.prototype.escapeBracket = function(str) {\n      return str_replace(['\\\\[', '\\\\]', '\\\\(', '\\\\)'], ['[', ']', '(', ')'], str);\n    };\n\n    Parser.prototype.startBlock = function(type, start, value) {\n      if (value == null) {\n        value = null;\n      }\n      this.pos += 1;\n      this.current = type;\n      this.blocks.push([type, start, start, value]);\n      return this;\n    };\n\n    Parser.prototype.endBlock = function() {\n      this.current = 'normal';\n      return this;\n    };\n\n    Parser.prototype.isBlock = function(type, value) {\n      if (value == null) {\n        value = null;\n      }\n      return this.current === type && (null === value ? true : this.blocks[this.pos][3] === value);\n    };\n\n    Parser.prototype.getBlock = function() {\n      if (this.blocks[this.pos] != null) {\n        return this.blocks[this.pos];\n      } else {\n        return null;\n      }\n    };\n\n    Parser.prototype.setBlock = function(to, value) {\n      if (to == null) {\n        to = null;\n      }\n      if (value == null) {\n        value = null;\n      }\n      if (to !== null) {\n        this.blocks[this.pos][2] = to;\n      }\n      if (value !== null) {\n        this.blocks[this.pos][3] = value;\n      }\n      return this;\n    };\n\n    Parser.prototype.backBlock = function(step, type, value) {\n      var item, last;\n      if (value == null) {\n        value = null;\n      }\n      if (this.pos < 0) {\n        return this.startBlock(type, 0, value);\n      }\n      last = this.blocks[this.pos][2];\n      this.blocks[this.pos][2] = last - step;\n      item = [type, last - step + 1, last, value];\n      if (this.blocks[this.pos][1] <= this.blocks[this.pos][2]) {\n        this.pos += 1;\n        this.blocks.push(item);\n      } else {\n        this.blocks[this.pos] = item;\n      }\n      this.current = type;\n      return this;\n    };\n\n    Parser.prototype.combineBlock = function() {\n      var current, prev;\n      if (this.pos < 1) {\n        return this;\n      }\n      prev = this.blocks[this.pos - 1].slice(0);\n      current = this.blocks[this.pos].slice(0);\n      prev[2] = current[2];\n      this.blocks[this.pos - 1] = prev;\n      this.current = prev[0];\n      this.blocks = this.blocks.slice(0, -1);\n      this.pos -= 1;\n      return this;\n    };\n\n    return Parser;\n\n  })();\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = Parser;\n  } else if (typeof window !== \"undefined\" && window !== null) {\n    window.HyperDown = Parser;\n  }\n\n}).call(this);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vaHlwZXJkb3duL1BhcnNlci5qcz84ZWJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi4xXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBQYXJzZXIsXG4gICAgc2xpY2UgPSBbXS5zbGljZTtcblxuICBQYXJzZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFycmF5X2tleXMsIGFycmF5X3ZhbHVlcywgaHRtbHNwZWNpYWxjaGFycywgcHJlZ19xdW90ZSwgc3RyX3JlcGxhY2UsIHRyaW0sIHVjZmlyc3Q7XG5cbiAgICB1Y2ZpcnN0ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICByZXR1cm4gKHN0ci5jaGFyQXQoMCkpLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpO1xuICAgIH07XG5cbiAgICBwcmVnX3F1b3RlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1stXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgXCJcXFxcJCZcIik7XG4gICAgfTtcblxuICAgIHN0cl9yZXBsYWNlID0gZnVuY3Rpb24oc2VhcmNoLCByZXBsYWNlLCBzdHIpIHtcbiAgICAgIHZhciBpLCBqLCBsLCBsZW4sIGxlbjEsIHZhbDtcbiAgICAgIGlmIChzZWFyY2ggaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAocmVwbGFjZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgZm9yIChpID0gaiA9IDAsIGxlbiA9IHNlYXJjaC5sZW5ndGg7IGogPCBsZW47IGkgPSArK2opIHtcbiAgICAgICAgICAgIHZhbCA9IHNlYXJjaFtpXTtcbiAgICAgICAgICAgIHN0ciA9IHN0cl9yZXBsYWNlKHZhbCwgcmVwbGFjZVtpXSwgc3RyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsID0gMCwgbGVuMSA9IHNlYXJjaC5sZW5ndGg7IGwgPCBsZW4xOyBsKyspIHtcbiAgICAgICAgICAgIHZhbCA9IHNlYXJjaFtsXTtcbiAgICAgICAgICAgIHN0ciA9IHN0cl9yZXBsYWNlKHZhbCwgcmVwbGFjZSwgc3RyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlYXJjaCA9IHByZWdfcXVvdGUoc2VhcmNoKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChzZWFyY2gsICdnJyksIHJlcGxhY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuXG4gICAgaHRtbHNwZWNpYWxjaGFycyA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xuICAgIH07XG5cbiAgICB0cmltID0gZnVuY3Rpb24oc3RyLCBjaCkge1xuICAgICAgdmFyIGMsIGksIGosIHJlZiwgc2VhcmNoO1xuICAgICAgaWYgKGNoID09IG51bGwpIHtcbiAgICAgICAgY2ggPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNoICE9IG51bGwpIHtcbiAgICAgICAgc2VhcmNoID0gJyc7XG4gICAgICAgIGZvciAoaSA9IGogPSAwLCByZWYgPSBjaC5sZW5ndGggLSAxOyAwIDw9IHJlZiA/IGogPD0gcmVmIDogaiA+PSByZWY7IGkgPSAwIDw9IHJlZiA/ICsraiA6IC0taikge1xuICAgICAgICAgIGMgPSBjaFtpXTtcbiAgICAgICAgICBjID0gcHJlZ19xdW90ZShjKTtcbiAgICAgICAgICBzZWFyY2ggKz0gYztcbiAgICAgICAgfVxuICAgICAgICBzZWFyY2ggPSAnWycgKyBzZWFyY2ggKyAnXSonO1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBzZWFyY2gpLCAnJykucmVwbGFjZShuZXcgUmVnRXhwKHNlYXJjaCArICckJyksICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGFycmF5X2tleXMgPSBmdW5jdGlvbihhcnIpIHtcbiAgICAgIHZhciBfLCBqLCBrLCBsZW4sIHJlc3VsdDtcbiAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKGFyciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGZvciAoayA9IGogPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBqIDwgbGVuOyBrID0gKytqKSB7XG4gICAgICAgICAgXyA9IGFycltrXTtcbiAgICAgICAgICByZXN1bHQucHVzaChrKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChrIGluIGFycikge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBhcnJheV92YWx1ZXMgPSBmdW5jdGlvbihhcnIpIHtcbiAgICAgIHZhciBfLCBqLCBsZW4sIHJlc3VsdCwgdjtcbiAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKGFyciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIHYgPSBhcnJbal07XG4gICAgICAgICAgcmVzdWx0LnB1c2godik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoXyBpbiBhcnIpIHtcbiAgICAgICAgICB2ID0gYXJyW19dO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBQYXJzZXIoKSB7XG4gICAgICB0aGlzLmNvbW1vbldoaXRlTGlzdCA9ICdrYmR8YnxpfHN0cm9uZ3xlbXxzdXB8c3VifGJyfGNvZGV8ZGVsfGF8aHJ8c21hbGwnO1xuICAgICAgdGhpcy5zcGVjaWFsV2hpdGVMaXN0ID0ge1xuICAgICAgICB0YWJsZTogJ3RhYmxlfHRib2R5fHRoZWFkfHRmb290fHRyfHRkfHRoJ1xuICAgICAgfTtcbiAgICAgIHRoaXMuaG9va3MgPSB7fTtcbiAgICB9XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLm1ha2VIdG1sID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgdmFyIGh0bWw7XG4gICAgICB0aGlzLmZvb3Rub3RlcyA9IFtdO1xuICAgICAgdGhpcy5kZWZpbml0aW9ucyA9IHt9O1xuICAgICAgdGhpcy5ob2xkZXJzID0ge307XG4gICAgICB0aGlzLnVuaXFpZCA9IChNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKSkgKyAoTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMCkpO1xuICAgICAgdGhpcy5pZCA9IDA7XG4gICAgICB0ZXh0ID0gdGhpcy5pbml0VGV4dCh0ZXh0KTtcbiAgICAgIGh0bWwgPSB0aGlzLnBhcnNlKHRleHQpO1xuICAgICAgaHRtbCA9IHRoaXMubWFrZUZvb3Rub3RlcyhodG1sKTtcbiAgICAgIHJldHVybiB0aGlzLmNhbGwoJ21ha2VIdG1sJywgaHRtbCk7XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUuaG9vayA9IGZ1bmN0aW9uKHR5cGUsIGNiKSB7XG4gICAgICBpZiAodGhpcy5ob29rc1t0eXBlXSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuaG9va3NbdHlwZV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmhvb2tzW3R5cGVdLnB1c2goY2IpO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLm1ha2VIb2xkZXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciBrZXk7XG4gICAgICBrZXkgPSBcInxcXHJcIiArIHRoaXMudW5pcWlkICsgdGhpcy5pZCArIFwiXFxyfFwiO1xuICAgICAgdGhpcy5pZCArPSAxO1xuICAgICAgdGhpcy5ob2xkZXJzW2tleV0gPSBzdHI7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLmluaXRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFx0L2csICcgICAgJykucmVwbGFjZSgvXFxyL2csICcnKTtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5tYWtlRm9vdG5vdGVzID0gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgdmFyIGluZGV4LCB2YWw7XG4gICAgICBpZiAodGhpcy5mb290bm90ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiZm9vdG5vdGVzXCI+PGhyPjxvbD4nO1xuICAgICAgICBpbmRleCA9IDE7XG4gICAgICAgIHdoaWxlICh2YWwgPSB0aGlzLmZvb3Rub3Rlcy5zaGlmdCgpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWwgKz0gXCIgPGEgaHJlZj1cXFwiI2ZucmVmLVwiICsgaW5kZXggKyBcIlxcXCIgY2xhc3M9XFxcImZvb3Rub3RlLWJhY2tyZWZcXFwiPiYjODYxNzs8L2E+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFt2YWwubGVuZ3RoIC0gMV0gKz0gXCIgPGEgaHJlZj1cXFwiI2ZucmVmLVwiICsgaW5kZXggKyBcIlxcXCIgY2xhc3M9XFxcImZvb3Rub3RlLWJhY2tyZWZcXFwiPiYjODYxNzs8L2E+XCI7XG4gICAgICAgICAgICB2YWwgPSB2YWwubGVuZ3RoID4gMSA/IHRoaXMucGFyc2UodmFsLmpvaW4oXCJcXG5cIikpIDogdGhpcy5wYXJzZUlubGluZSh2YWxbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBodG1sICs9IFwiPGxpIGlkPVxcXCJmbi1cIiArIGluZGV4ICsgXCJcXFwiPlwiICsgdmFsICsgXCI8L2xpPlwiO1xuICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSAnPC9vbD48L2Rpdj4nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICB2YXIgYmxvY2ssIGJsb2NrcywgZW5kLCBleHRyYWN0LCBodG1sLCBqLCBsZW4sIGxpbmVzLCBtZXRob2QsIHJlc3VsdCwgc3RhcnQsIHR5cGUsIHZhbHVlO1xuICAgICAgbGluZXMgPSBbXTtcbiAgICAgIGJsb2NrcyA9IHRoaXMucGFyc2VCbG9jayh0ZXh0LCBsaW5lcyk7XG4gICAgICBodG1sID0gJyc7XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSBibG9ja3MubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgYmxvY2sgPSBibG9ja3Nbal07XG4gICAgICAgIHR5cGUgPSBibG9ja1swXSwgc3RhcnQgPSBibG9ja1sxXSwgZW5kID0gYmxvY2tbMl0sIHZhbHVlID0gYmxvY2tbM107XG4gICAgICAgIGV4dHJhY3QgPSBsaW5lcy5zbGljZShzdGFydCwgZW5kICsgMSk7XG4gICAgICAgIG1ldGhvZCA9ICdwYXJzZScgKyB1Y2ZpcnN0KHR5cGUpO1xuICAgICAgICBleHRyYWN0ID0gdGhpcy5jYWxsKCdiZWZvcmUnICsgdWNmaXJzdChtZXRob2QpLCBleHRyYWN0LCB2YWx1ZSk7XG4gICAgICAgIHJlc3VsdCA9IHRoaXNbbWV0aG9kXShleHRyYWN0LCB2YWx1ZSk7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2FsbCgnYWZ0ZXInICsgdWNmaXJzdChtZXRob2QpLCByZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgaHRtbCArPSByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbDtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncywgY2FsbGJhY2ssIGosIGxlbiwgcmVmLCB0eXBlLCB2YWx1ZTtcbiAgICAgIHR5cGUgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcbiAgICAgIHZhbHVlID0gYXJnc1swXTtcbiAgICAgIGlmICh0aGlzLmhvb2tzW3R5cGVdID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmVmID0gdGhpcy5ob29rc1t0eXBlXTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICBjYWxsYmFjayA9IHJlZltqXTtcbiAgICAgICAgdmFsdWUgPSBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgYXJnc1swXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnJlbGVhc2VIb2xkZXIgPSBmdW5jdGlvbih0ZXh0LCBjbGVhckhvbGRlcnMpIHtcbiAgICAgIHZhciBkZWVwO1xuICAgICAgaWYgKGNsZWFySG9sZGVycyA9PSBudWxsKSB7XG4gICAgICAgIGNsZWFySG9sZGVycyA9IHRydWU7XG4gICAgICB9XG4gICAgICBkZWVwID0gMDtcbiAgICAgIHdoaWxlICgodGV4dC5pbmRleE9mKFwiXFxyXCIpKSA+PSAwICYmIGRlZXAgPCAxMCkge1xuICAgICAgICB0ZXh0ID0gc3RyX3JlcGxhY2UoYXJyYXlfa2V5cyh0aGlzLmhvbGRlcnMpLCBhcnJheV92YWx1ZXModGhpcy5ob2xkZXJzKSwgdGV4dCk7XG4gICAgICAgIGRlZXAgKz0gMTtcbiAgICAgIH1cbiAgICAgIGlmIChjbGVhckhvbGRlcnMpIHtcbiAgICAgICAgdGhpcy5ob2xkZXJzID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUlubGluZSA9IGZ1bmN0aW9uKHRleHQsIHdoaXRlTGlzdCwgY2xlYXJIb2xkZXJzLCBlbmFibGVBdXRvTGluaykge1xuICAgICAgaWYgKHdoaXRlTGlzdCA9PSBudWxsKSB7XG4gICAgICAgIHdoaXRlTGlzdCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGNsZWFySG9sZGVycyA9PSBudWxsKSB7XG4gICAgICAgIGNsZWFySG9sZGVycyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZW5hYmxlQXV0b0xpbmsgPT0gbnVsbCkge1xuICAgICAgICBlbmFibGVBdXRvTGluayA9IHRydWU7XG4gICAgICB9XG4gICAgICB0ZXh0ID0gdGhpcy5jYWxsKCdiZWZvcmVQYXJzZUlubGluZScsIHRleHQpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvKF58W15cXFxcXSkoYCspKC4rPylcXDIvbWcsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIG1hdGNoZXM7XG4gICAgICAgICAgbWF0Y2hlcyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgICAgIHJldHVybiBtYXRjaGVzWzFdICsgX3RoaXMubWFrZUhvbGRlcignPGNvZGU+JyArIChodG1sc3BlY2lhbGNoYXJzKG1hdGNoZXNbM10pKSArICc8L2NvZGU+Jyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXFxcKC4pL2csIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGVzY2FwZWQsIG1hdGNoZXM7XG4gICAgICAgICAgbWF0Y2hlcyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgICAgIGVzY2FwZWQgPSBodG1sc3BlY2lhbGNoYXJzKG1hdGNoZXNbMV0pO1xuICAgICAgICAgIGVzY2FwZWQgPSBlc2NhcGVkLnJlcGxhY2UoL1xcJC9nLCAnJmRvbGxhcjsnKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXMubWFrZUhvbGRlcihlc2NhcGVkKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzwoaHR0cHM/OlxcL1xcLy4rKT4vaWcsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGxpbmssIG1hdGNoZXMsIHVybDtcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgdXJsID0gX3RoaXMuY2xlYW5VcmwobWF0Y2hlc1sxXSk7XG4gICAgICAgICAgbGluayA9IF90aGlzLmNhbGwoJ3BhcnNlTGluaycsIG1hdGNoZXNbMV0pO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5tYWtlSG9sZGVyKFwiPGEgaHJlZj1cXFwiXCIgKyB1cmwgKyBcIlxcXCI+XCIgKyBsaW5rICsgXCI8L2E+XCIpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPChcXC8/KShbYS16MC05LV0rKShcXHMrW14+XSopPz4vaWcsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIG1hdGNoZXM7XG4gICAgICAgICAgbWF0Y2hlcyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgICAgIGlmICgoKCd8JyArIF90aGlzLmNvbW1vbldoaXRlTGlzdCArICd8JyArIHdoaXRlTGlzdCArICd8JykuaW5kZXhPZignfCcgKyBtYXRjaGVzWzJdLnRvTG93ZXJDYXNlKCkgKyAnfCcpKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMubWFrZUhvbGRlcihtYXRjaGVzWzBdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMobWF0Y2hlc1swXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGV4dCA9IHN0cl9yZXBsYWNlKFsnPCcsICc+J10sIFsnJmx0OycsICcmZ3Q7J10sIHRleHQpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxbXFxeKCg/OlteXFxdXXxcXFxcXFxdfFxcXFxcXFspKz8pXFxdL2csIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGlkLCBtYXRjaGVzO1xuICAgICAgICAgIG1hdGNoZXMgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcbiAgICAgICAgICBpZCA9IF90aGlzLmZvb3Rub3Rlcy5pbmRleE9mKG1hdGNoZXNbMV0pO1xuICAgICAgICAgIGlmIChpZCA8IDApIHtcbiAgICAgICAgICAgIGlkID0gX3RoaXMuZm9vdG5vdGVzLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBfdGhpcy5mb290bm90ZXMucHVzaChfdGhpcy5wYXJzZUlubGluZShtYXRjaGVzWzFdLCAnJywgZmFsc2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm1ha2VIb2xkZXIoXCI8c3VwIGlkPVxcXCJmbnJlZi1cIiArIGlkICsgXCJcXFwiPjxhIGhyZWY9XFxcIiNmbi1cIiArIGlkICsgXCJcXFwiIGNsYXNzPVxcXCJmb290bm90ZS1yZWZcXFwiPlwiICsgaWQgKyBcIjwvYT48L3N1cD5cIik7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8hXFxbKCg/OlteXFxdXXxcXFxcXFxdfFxcXFxcXFspKj8pXFxdXFwoKCg/OlteXFwpXXxcXFxcXFwpfFxcXFxcXCgpKz8pXFwpL2csIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGVzY2FwZWQsIG1hdGNoZXMsIHVybDtcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgZXNjYXBlZCA9IF90aGlzLmVzY2FwZUJyYWNrZXQobWF0Y2hlc1sxXSk7XG4gICAgICAgICAgdXJsID0gX3RoaXMuZXNjYXBlQnJhY2tldChtYXRjaGVzWzJdKTtcbiAgICAgICAgICB1cmwgPSBfdGhpcy5jbGVhblVybCh1cmwpO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5tYWtlSG9sZGVyKFwiPGltZyBzcmM9XFxcIlwiICsgdXJsICsgXCJcXFwiIGFsdD1cXFwiXCIgKyBlc2NhcGVkICsgXCJcXFwiIHRpdGxlPVxcXCJcIiArIGVzY2FwZWQgKyBcIlxcXCI+XCIpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvIVxcWygoPzpbXlxcXV18XFxcXFxcXXxcXFxcXFxbKSo/KVxcXVxcWygoPzpbXlxcXV18XFxcXFxcXXxcXFxcXFxbKSs/KVxcXS9nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBlc2NhcGVkLCBtYXRjaGVzLCByZXN1bHQ7XG4gICAgICAgICAgbWF0Y2hlcyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgICAgIGVzY2FwZWQgPSBfdGhpcy5lc2NhcGVCcmFja2V0KG1hdGNoZXNbMV0pO1xuICAgICAgICAgIHJlc3VsdCA9IF90aGlzLmRlZmluaXRpb25zW21hdGNoZXNbMl1dICE9IG51bGwgPyBcIjxpbWcgc3JjPVxcXCJcIiArIF90aGlzLmRlZmluaXRpb25zW21hdGNoZXNbMl1dICsgXCJcXFwiIGFsdD1cXFwiXCIgKyBlc2NhcGVkICsgXCJcXFwiIHRpdGxlPVxcXCJcIiArIGVzY2FwZWQgKyBcIlxcXCI+XCIgOiBlc2NhcGVkO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5tYWtlSG9sZGVyKHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXFsoKD86W15cXF1dfFxcXFxcXF18XFxcXFxcWykrPylcXF1cXCgoKD86W15cXCldfFxcXFxcXCl8XFxcXFxcKCkrPylcXCkvZywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgZXNjYXBlZCwgbWF0Y2hlcywgdXJsO1xuICAgICAgICAgIG1hdGNoZXMgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcbiAgICAgICAgICBlc2NhcGVkID0gX3RoaXMucGFyc2VJbmxpbmUoX3RoaXMuZXNjYXBlQnJhY2tldChtYXRjaGVzWzFdKSwgJycsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgdXJsID0gX3RoaXMuZXNjYXBlQnJhY2tldChtYXRjaGVzWzJdKTtcbiAgICAgICAgICB1cmwgPSBfdGhpcy5jbGVhblVybCh1cmwpO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5tYWtlSG9sZGVyKFwiPGEgaHJlZj1cXFwiXCIgKyB1cmwgKyBcIlxcXCI+XCIgKyBlc2NhcGVkICsgXCI8L2E+XCIpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxbKCg/OlteXFxdXXxcXFxcXFxdfFxcXFxcXFspKz8pXFxdXFxbKCg/OlteXFxdXXxcXFxcXFxdfFxcXFxcXFspKz8pXFxdL2csIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGVzY2FwZWQsIG1hdGNoZXMsIHJlc3VsdDtcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgZXNjYXBlZCA9IF90aGlzLnBhcnNlSW5saW5lKF90aGlzLmVzY2FwZUJyYWNrZXQobWF0Y2hlc1sxXSksICcnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgIHJlc3VsdCA9IF90aGlzLmRlZmluaXRpb25zW21hdGNoZXNbMl1dICE9IG51bGwgPyBcIjxhIGhyZWY9XFxcIlwiICsgX3RoaXMuZGVmaW5pdGlvbnNbbWF0Y2hlc1syXV0gKyBcIlxcXCI+XCIgKyBlc2NhcGVkICsgXCI8L2E+XCIgOiBlc2NhcGVkO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5tYWtlSG9sZGVyKHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0ZXh0ID0gdGhpcy5wYXJzZUlubGluZUNhbGxiYWNrKHRleHQpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPChbX2EtejAtOS1cXC5cXCtdK0BbXkBdK1xcLlthLXpdezIsfSk+L2lnLCAnPGEgaHJlZj1cIm1haWx0bzokMVwiPiQxPC9hPicpO1xuICAgICAgaWYgKGVuYWJsZUF1dG9MaW5rKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyhefFteXCJdKSgoaHR0cHM/KTpbeDgwLXhmZl9hLXowLTktXFwuXFwvJSMhQFxcP1xcKz1+XFx8XFwsJlxcKFxcKV0rKSgkfFteXCJdKS9pZywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGxpbmssIG1hdGNoZXM7XG4gICAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgICBsaW5rID0gX3RoaXMuY2FsbCgncGFyc2VMaW5rJywgbWF0Y2hlc1syXSk7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1sxXSArIFwiPGEgaHJlZj1cXFwiXCIgKyBtYXRjaGVzWzJdICsgXCJcXFwiPlwiICsgbGluayArIFwiPC9hPlwiICsgbWF0Y2hlc1s0XTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KSh0aGlzKSk7XG4gICAgICB9XG4gICAgICB0ZXh0ID0gdGhpcy5jYWxsKCdhZnRlclBhcnNlSW5saW5lQmVmb3JlUmVsZWFzZScsIHRleHQpO1xuICAgICAgdGV4dCA9IHRoaXMucmVsZWFzZUhvbGRlcih0ZXh0LCBjbGVhckhvbGRlcnMpO1xuICAgICAgdGV4dCA9IHRoaXMuY2FsbCgnYWZ0ZXJQYXJzZUlubGluZScsIHRleHQpO1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VJbmxpbmVDYWxsYmFjayA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyhcXCp7M30pKCg/Oi58XFxyKSs/KVxcMS9tZywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlcztcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgcmV0dXJuICc8c3Ryb25nPjxlbT4nICsgKF90aGlzLnBhcnNlSW5saW5lQ2FsbGJhY2sobWF0Y2hlc1syXSkpICsgJzwvZW0+PC9zdHJvbmc+JztcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyhcXCp7Mn0pKCg/Oi58XFxyKSs/KVxcMS9tZywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlcztcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgcmV0dXJuICc8c3Ryb25nPicgKyAoX3RoaXMucGFyc2VJbmxpbmVDYWxsYmFjayhtYXRjaGVzWzJdKSkgKyAnPC9zdHJvbmc+JztcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyhcXCopKCg/Oi58XFxyKSs/KVxcMS9tZywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlcztcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgcmV0dXJuICc8ZW0+JyArIChfdGhpcy5wYXJzZUlubGluZUNhbGxiYWNrKG1hdGNoZXNbMl0pKSArICc8L2VtPic7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8oXFxzK3xeKShfezN9KSgoPzoufFxccikrPylcXDIoXFxzK3wkKS9tZywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlcztcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgcmV0dXJuIG1hdGNoZXNbMV0gKyAnPHN0cm9uZz48ZW0+JyArIChfdGhpcy5wYXJzZUlubGluZUNhbGxiYWNrKG1hdGNoZXNbM10pKSArICc8L2VtPjwvc3Ryb25nPicgKyBtYXRjaGVzWzRdO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvKFxccyt8XikoX3syfSkoKD86LnxcXHIpKz8pXFwyKFxccyt8JCkvbWcsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIG1hdGNoZXM7XG4gICAgICAgICAgbWF0Y2hlcyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgICAgIHJldHVybiBtYXRjaGVzWzFdICsgJzxzdHJvbmc+JyArIChfdGhpcy5wYXJzZUlubGluZUNhbGxiYWNrKG1hdGNoZXNbM10pKSArICc8L3N0cm9uZz4nICsgbWF0Y2hlc1s0XTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyhcXHMrfF4pKF8pKCg/Oi58XFxyKSs/KVxcMihcXHMrfCQpL21nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBtYXRjaGVzO1xuICAgICAgICAgIG1hdGNoZXMgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcbiAgICAgICAgICByZXR1cm4gbWF0Y2hlc1sxXSArICc8ZW0+JyArIChfdGhpcy5wYXJzZUlubGluZUNhbGxiYWNrKG1hdGNoZXNbM10pKSArICc8L2VtPicgKyBtYXRjaGVzWzRdO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvKH57Mn0pKCg/Oi58XFxyKSs/KVxcMS9tZywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlcztcbiAgICAgICAgICBtYXRjaGVzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICAgICAgcmV0dXJuICc8ZGVsPicgKyAoX3RoaXMucGFyc2VJbmxpbmVDYWxsYmFjayhtYXRjaGVzWzJdKSkgKyAnPC9kZWw+JztcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlQmxvY2sgPSBmdW5jdGlvbih0ZXh0LCBsaW5lcykge1xuICAgICAgdmFyIGFsaWduLCBhbGlnbnMsIGJsb2NrLCBlbXB0eUNvdW50LCBoZWFkLCBpc0FmdGVyTGlzdCwgaiwga2V5LCBsLCBsZW4sIGxlbjEsIGxlbjIsIGxpbmUsIG0sIG1hdGNoZXMsIG51bSwgcmVmLCByb3csIHJvd3MsIHNwYWNlLCBzcGVjaWFsLCB0YWc7XG4gICAgICByZWYgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGxpbmUgPSByZWZbal07XG4gICAgICAgIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmJsb2NrcyA9IFtdO1xuICAgICAgdGhpcy5jdXJyZW50ID0gJ25vcm1hbCc7XG4gICAgICB0aGlzLnBvcyA9IC0xO1xuICAgICAgc3BlY2lhbCA9IChhcnJheV9rZXlzKHRoaXMuc3BlY2lhbFdoaXRlTGlzdCkpLmpvaW4oJ3wnKTtcbiAgICAgIGVtcHR5Q291bnQgPSAwO1xuICAgICAgZm9yIChrZXkgPSBsID0gMCwgbGVuMSA9IGxpbmVzLmxlbmd0aDsgbCA8IGxlbjE7IGtleSA9ICsrbCkge1xuICAgICAgICBsaW5lID0gbGluZXNba2V5XTtcbiAgICAgICAgYmxvY2sgPSB0aGlzLmdldEJsb2NrKCk7XG4gICAgICAgIGlmIChibG9jayAhPSBudWxsKSB7XG4gICAgICAgICAgYmxvY2sgPSBibG9jay5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEobWF0Y2hlcyA9IGxpbmUubWF0Y2goL14oXFxzKikofnxgKXszLH0oW15gfl0qKSQvaSkpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNCbG9jaygnY29kZScpKSB7XG4gICAgICAgICAgICBpc0FmdGVyTGlzdCA9IGJsb2NrWzNdWzJdO1xuICAgICAgICAgICAgaWYgKGlzQWZ0ZXJMaXN0KSB7XG4gICAgICAgICAgICAgIHRoaXMuY29tYmluZUJsb2NrKCkuc2V0QmxvY2soa2V5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICh0aGlzLnNldEJsb2NrKGtleSkpLmVuZEJsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlzQWZ0ZXJMaXN0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Jsb2NrKCdsaXN0JykpIHtcbiAgICAgICAgICAgICAgc3BhY2UgPSBibG9ja1szXTtcbiAgICAgICAgICAgICAgaXNBZnRlckxpc3QgPSAoc3BhY2UgPiAwICYmIG1hdGNoZXNbMV0ubGVuZ3RoID49IHNwYWNlKSB8fCBtYXRjaGVzWzFdLmxlbmd0aCA+IHNwYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGFydEJsb2NrKCdjb2RlJywga2V5LCBbbWF0Y2hlc1sxXSwgbWF0Y2hlc1szXSwgaXNBZnRlckxpc3RdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0Jsb2NrKCdjb2RlJykpIHtcbiAgICAgICAgICB0aGlzLnNldEJsb2NrKGtleSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKG1hdGNoZXMgPSBsaW5lLm1hdGNoKG5ldyBSZWdFeHAoXCJeXFxcXHMqPChcIiArIHNwZWNpYWwgKyBcIikoXFxcXHMrW14+XSopPz5cIiwgJ2knKSkpKSB7XG4gICAgICAgICAgdGFnID0gbWF0Y2hlc1sxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmICghKHRoaXMuaXNCbG9jaygnaHRtbCcsIHRhZykpICYmICEodGhpcy5pc0Jsb2NrKCdwcmUnKSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnaHRtbCcsIGtleSwgdGFnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoISEobWF0Y2hlcyA9IGxpbmUubWF0Y2gobmV3IFJlZ0V4cChcIjwvKFwiICsgc3BlY2lhbCArIFwiKT5cXFxccyokXCIsICdpJykpKSkge1xuICAgICAgICAgIHRhZyA9IG1hdGNoZXNbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAodGhpcy5pc0Jsb2NrKCdodG1sJywgdGFnKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXkpLmVuZEJsb2NrKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNCbG9jaygnaHRtbCcpKSB7XG4gICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgIGNhc2UgISEobGluZS5tYXRjaCgvXiB7NH0vKSk6XG4gICAgICAgICAgICBlbXB0eUNvdW50ID0gMDtcbiAgICAgICAgICAgIGlmICgodGhpcy5pc0Jsb2NrKCdwcmUnKSkgfHwgdGhpcy5pc0Jsb2NrKCdsaXN0JykpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGFydEJsb2NrKCdwcmUnLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAhIShtYXRjaGVzID0gbGluZS5tYXRjaCgvXihcXHMqKSgoPzpbMC05YS16XStcXC4pfFxcLXxcXCt8XFwqKVxccysvKSk6XG4gICAgICAgICAgICBzcGFjZSA9IG1hdGNoZXNbMV0ubGVuZ3RoO1xuICAgICAgICAgICAgZW1wdHlDb3VudCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Jsb2NrKCdsaXN0JykpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXksIHNwYWNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnbGlzdCcsIGtleSwgc3BhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAhIShtYXRjaGVzID0gbGluZS5tYXRjaCgvXlxcW1xcXigoPzpbXlxcXV18XFxdfFxcWykrPylcXF06LykpOlxuICAgICAgICAgICAgc3BhY2UgPSBtYXRjaGVzWzBdLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QmxvY2soJ2Zvb3Rub3RlJywga2V5LCBbc3BhY2UsIG1hdGNoZXNbMV1dKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgISEobWF0Y2hlcyA9IGxpbmUubWF0Y2goL15cXHMqXFxbKCg/OlteXFxdXXxcXF18XFxbKSs/KVxcXTpcXHMqKC4rKSQvKSk6XG4gICAgICAgICAgICB0aGlzLmRlZmluaXRpb25zW21hdGNoZXNbMV1dID0gdGhpcy5jbGVhblVybChtYXRjaGVzWzJdKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnZGVmaW5pdGlvbicsIGtleSkuZW5kQmxvY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgISEobGluZS5tYXRjaCgvXlxccyo+LykpOlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCbG9jaygncXVvdGUnKSkge1xuICAgICAgICAgICAgICB0aGlzLnNldEJsb2NrKGtleSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnN0YXJ0QmxvY2soJ3F1b3RlJywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgISEobWF0Y2hlcyA9IGxpbmUubWF0Y2goL14oKD86KD86KD86WyA6XSpcXC1bIDpdKikrKD86XFx8fFxcKykpfCg/Oig/OlxcfHxcXCspKD86WyA6XSpcXC1bIDpdKikrKXwoPzooPzpbIDpdKlxcLVsgOl0qKSsoPzpcXHx8XFwrKSg/OlsgOl0qXFwtWyA6XSopKykpKykkLykpOlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCbG9jaygndGFibGUnKSkge1xuICAgICAgICAgICAgICBibG9ja1szXVswXS5wdXNoKGJsb2NrWzNdWzJdKTtcbiAgICAgICAgICAgICAgYmxvY2tbM11bMl0gKz0gMTtcbiAgICAgICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXksIGJsb2NrWzNdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhlYWQgPSAwO1xuICAgICAgICAgICAgICBpZiAoKGJsb2NrID09IG51bGwpIHx8IGJsb2NrWzBdICE9PSAnbm9ybWFsJyB8fCBsaW5lc1tibG9ja1syXV0ubWF0Y2goL15cXHMqJC8pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJsb2NrKCd0YWJsZScsIGtleSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVhZCA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrQmxvY2soMSwgJ3RhYmxlJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXNbMV1bMF0gPT09ICd8Jykge1xuICAgICAgICAgICAgICAgIG1hdGNoZXNbMV0gPSBtYXRjaGVzWzFdLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc1sxXVttYXRjaGVzWzFdLmxlbmd0aCAtIDFdID09PSAnfCcpIHtcbiAgICAgICAgICAgICAgICAgIG1hdGNoZXNbMV0gPSBtYXRjaGVzWzFdLnN1YnN0cmluZygwLCBtYXRjaGVzWzFdLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByb3dzID0gbWF0Y2hlc1sxXS5zcGxpdCgvXFwrfFxcfC8pO1xuICAgICAgICAgICAgICBhbGlnbnMgPSBbXTtcbiAgICAgICAgICAgICAgZm9yIChtID0gMCwgbGVuMiA9IHJvd3MubGVuZ3RoOyBtIDwgbGVuMjsgbSsrKSB7XG4gICAgICAgICAgICAgICAgcm93ID0gcm93c1ttXTtcbiAgICAgICAgICAgICAgICBhbGlnbiA9ICdub25lJztcbiAgICAgICAgICAgICAgICBpZiAoISEobWF0Y2hlcyA9IHJvdy5tYXRjaCgvXlxccyooOj8pXFwtKyg6PylcXHMqJC8pKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKCEhbWF0Y2hlc1sxXSAmJiAhIW1hdGNoZXNbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoISFtYXRjaGVzWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghIW1hdGNoZXNbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24gPSAncmlnaHQnO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhbGlnbnMucHVzaChhbGlnbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXksIFtbaGVhZF0sIGFsaWducywgaGVhZCArIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgISEobWF0Y2hlcyA9IGxpbmUubWF0Y2goL14oIyspKC4qKSQvKSk6XG4gICAgICAgICAgICBudW0gPSBNYXRoLm1pbihtYXRjaGVzWzFdLmxlbmd0aCwgNik7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QmxvY2soJ3NoJywga2V5LCBudW0pLmVuZEJsb2NrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICEhKG1hdGNoZXMgPSBsaW5lLm1hdGNoKC9eXFxzKigoPXwtKXsyLH0pXFxzKiQvKSkgJiYgKChibG9jayAhPSBudWxsKSAmJiBibG9ja1swXSA9PT0gJ25vcm1hbCcgJiYgIWxpbmVzW2Jsb2NrWzJdXS5tYXRjaCgvXlxccyokLykpOlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCbG9jaygnbm9ybWFsJykpIHtcbiAgICAgICAgICAgICAgdGhpcy5iYWNrQmxvY2soMSwgJ21oJywgbWF0Y2hlc1sxXVswXSA9PT0gJz0nID8gMSA6IDIpLnNldEJsb2NrKGtleSkuZW5kQmxvY2soKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnbm9ybWFsJywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgISEobGluZS5tYXRjaCgvXlstXFwqXXszLH1cXHMqJC8pKTpcbiAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnaHInLCBrZXkpLmVuZEJsb2NrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCbG9jaygnbGlzdCcpKSB7XG4gICAgICAgICAgICAgIGlmIChsaW5lLm1hdGNoKC9eKFxccyopLykpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHlDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnbm9ybWFsJywga2V5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbXB0eUNvdW50ICs9IDE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW1wdHlDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QmxvY2soa2V5KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QmxvY2soJ25vcm1hbCcsIGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0Jsb2NrKCdmb290bm90ZScpKSB7XG4gICAgICAgICAgICAgIG1hdGNoZXMgPSBsaW5lLm1hdGNoKC9eKFxccyopLyk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaGVzWzFdLmxlbmd0aCA+PSBibG9ja1szXVswXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QmxvY2soa2V5KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QmxvY2soJ25vcm1hbCcsIGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0Jsb2NrKCd0YWJsZScpKSB7XG4gICAgICAgICAgICAgIGlmICgwIDw9IGxpbmUuaW5kZXhPZignfCcpKSB7XG4gICAgICAgICAgICAgICAgYmxvY2tbM11bMl0gKz0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEJsb2NrKGtleSwgYmxvY2tbM10pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnbm9ybWFsJywga2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQmxvY2soJ3ByZScpKSB7XG4gICAgICAgICAgICAgIGlmIChsaW5lLm1hdGNoKC9eXFxzKiQvKSkge1xuICAgICAgICAgICAgICAgIGlmIChlbXB0eUNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEJsb2NrKCdub3JtYWwnLCBrZXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNldEJsb2NrKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVtcHR5Q291bnQgKz0gMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QmxvY2soJ25vcm1hbCcsIGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0Jsb2NrKCdxdW90ZScpKSB7XG4gICAgICAgICAgICAgIGlmIChsaW5lLm1hdGNoKC9eKFxccyopLykpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHlDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCbG9jaygnbm9ybWFsJywga2V5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCbG9jayhrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbXB0eUNvdW50ICs9IDE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW1wdHlDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QmxvY2soa2V5KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QmxvY2soJ25vcm1hbCcsIGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgoYmxvY2sgPT0gbnVsbCkgfHwgYmxvY2tbMF0gIT09ICdub3JtYWwnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJsb2NrKCdub3JtYWwnLCBrZXkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QmxvY2soa2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vcHRpbWl6ZUJsb2Nrcyh0aGlzLmJsb2NrcywgbGluZXMpO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLm9wdGltaXplQmxvY2tzID0gZnVuY3Rpb24oX2Jsb2NrcywgX2xpbmVzKSB7XG4gICAgICB2YXIgYmxvY2ssIGJsb2NrcywgZnJvbSwgaXNFbXB0eSwga2V5LCBsaW5lcywgbW92ZWQsIG5leHRCbG9jaywgcHJldkJsb2NrLCB0bywgdHlwZSwgdHlwZXM7XG4gICAgICBibG9ja3MgPSBfYmxvY2tzLnNsaWNlKDApO1xuICAgICAgbGluZXMgPSBfbGluZXMuc2xpY2UoMCk7XG4gICAgICBibG9ja3MgPSB0aGlzLmNhbGwoJ2JlZm9yZU9wdGltaXplQmxvY2tzJywgYmxvY2tzLCBsaW5lcyk7XG4gICAgICBrZXkgPSAwO1xuICAgICAgd2hpbGUgKGJsb2Nrc1trZXldICE9IG51bGwpIHtcbiAgICAgICAgbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgYmxvY2sgPSBibG9ja3Nba2V5XTtcbiAgICAgICAgcHJldkJsb2NrID0gYmxvY2tzW2tleSAtIDFdICE9IG51bGwgPyBibG9ja3Nba2V5IC0gMV0gOiBudWxsO1xuICAgICAgICBuZXh0QmxvY2sgPSBibG9ja3Nba2V5ICsgMV0gIT0gbnVsbCA/IGJsb2Nrc1trZXkgKyAxXSA6IG51bGw7XG4gICAgICAgIHR5cGUgPSBibG9ja1swXSwgZnJvbSA9IGJsb2NrWzFdLCB0byA9IGJsb2NrWzJdO1xuICAgICAgICBpZiAoJ3ByZScgPT09IHR5cGUpIHtcbiAgICAgICAgICBpc0VtcHR5ID0gbGluZXMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgbGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIChsaW5lLm1hdGNoKC9eXFxzKiQvKSkgJiYgcmVzdWx0O1xuICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgICAgICBibG9ja1swXSA9IHR5cGUgPSAnbm9ybWFsJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdub3JtYWwnID09PSB0eXBlKSB7XG4gICAgICAgICAgdHlwZXMgPSBbJ2xpc3QnLCAncXVvdGUnXTtcbiAgICAgICAgICBpZiAoZnJvbSA9PT0gdG8gJiYgKGxpbmVzW2Zyb21dLm1hdGNoKC9eXFxzKiQvKSkgJiYgKHByZXZCbG9jayAhPSBudWxsKSAmJiAobmV4dEJsb2NrICE9IG51bGwpKSB7XG4gICAgICAgICAgICBpZiAocHJldkJsb2NrWzBdID09PSBuZXh0QmxvY2tbMF0gJiYgKHR5cGVzLmluZGV4T2YocHJldkJsb2NrWzBdKSkgPj0gMCkge1xuICAgICAgICAgICAgICBibG9ja3Nba2V5IC0gMV0gPSBbcHJldkJsb2NrWzBdLCBwcmV2QmxvY2tbMV0sIG5leHRCbG9ja1syXSwgbnVsbF07XG4gICAgICAgICAgICAgIGJsb2Nrcy5zcGxpY2Uoa2V5LCAyKTtcbiAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1vdmVkKSB7XG4gICAgICAgICAga2V5ICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2FmdGVyT3B0aW1pemVCbG9ja3MnLCBibG9ja3MsIGxpbmVzKTtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUNvZGUgPSBmdW5jdGlvbihsaW5lcywgcGFydHMpIHtcbiAgICAgIHZhciBibGFuaywgY291bnQsIGxhbmcsIHJlbCwgc3RyO1xuICAgICAgYmxhbmsgPSBwYXJ0c1swXSwgbGFuZyA9IHBhcnRzWzFdO1xuICAgICAgbGFuZyA9IHRyaW0obGFuZyk7XG4gICAgICBjb3VudCA9IGJsYW5rLmxlbmd0aDtcbiAgICAgIGlmICghbGFuZy5tYXRjaCgvXltfYS16MC05LVxcK1xcI1xcOlxcLl0rJC9pKSkge1xuICAgICAgICBsYW5nID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnRzID0gbGFuZy5zcGxpdCgnOicpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGxhbmcgPSBwYXJ0c1swXSwgcmVsID0gcGFydHNbMV07XG4gICAgICAgICAgbGFuZyA9IHRyaW0obGFuZyk7XG4gICAgICAgICAgcmVsID0gdHJpbShyZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaW5lcyA9IGxpbmVzLnNsaWNlKDEsIC0xKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICByZXR1cm4gbGluZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIvXlsgXXtcIiArIGNvdW50ICsgXCJ9L1wiKSwgJycpO1xuICAgICAgfSk7XG4gICAgICBzdHIgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgICAgaWYgKHN0ci5tYXRjaCgvXlxccyokLykpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICc8cHJlPjxjb2RlJyArICghIWxhbmcgPyBcIiBjbGFzcz1cXFwiXCIgKyBsYW5nICsgXCJcXFwiXCIgOiAnJykgKyAoISFyZWwgPyBcIiByZWw9XFxcIlwiICsgcmVsICsgXCJcXFwiXCIgOiAnJykgKyAnPicgKyAoaHRtbHNwZWNpYWxjaGFycyhzdHIpKSArICc8L2NvZGU+PC9wcmU+JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZVByZSA9IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICB2YXIgc3RyO1xuICAgICAgbGluZXMgPSBsaW5lcy5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICByZXR1cm4gaHRtbHNwZWNpYWxjaGFycyhsaW5lLnN1YnN0cmluZyg0KSk7XG4gICAgICB9KTtcbiAgICAgIHN0ciA9IGxpbmVzLmpvaW4oXCJcXG5cIik7XG4gICAgICBpZiAoc3RyLm1hdGNoKC9eXFxzKiQvKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJzxwcmU+PGNvZGU+JyArIHN0ciArICc8L2NvZGU+PC9wcmU+JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZVNoID0gZnVuY3Rpb24obGluZXMsIG51bSkge1xuICAgICAgdmFyIGxpbmU7XG4gICAgICBsaW5lID0gdGhpcy5wYXJzZUlubGluZSh0cmltKGxpbmVzWzBdLCAnIyAnKSk7XG4gICAgICBpZiAobGluZS5tYXRjaCgvXlxccyokLykpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiPGhcIiArIG51bSArIFwiPlwiICsgbGluZSArIFwiPC9oXCIgKyBudW0gKyBcIj5cIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZU1oID0gZnVuY3Rpb24obGluZXMsIG51bSkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyc2VTaChsaW5lcywgbnVtKTtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZVF1b3RlID0gZnVuY3Rpb24obGluZXMpIHtcbiAgICAgIHZhciBzdHI7XG4gICAgICBsaW5lcyA9IGxpbmVzLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHJldHVybiBsaW5lLnJlcGxhY2UoL15cXHMqPiA/LywgJycpO1xuICAgICAgfSk7XG4gICAgICBzdHIgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgICAgaWYgKHN0ci5tYXRjaCgvXlxccyokLykpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICc8YmxvY2txdW90ZT4nICsgKHRoaXMucGFyc2Uoc3RyKSkgKyAnPC9ibG9ja3F1b3RlPic7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VMaXN0ID0gZnVuY3Rpb24obGluZXMpIHtcbiAgICAgIHZhciBmb3VuZCwgaHRtbCwgaiwga2V5LCBsLCBsYXN0VHlwZSwgbGVmdExpbmVzLCBsZW4sIGxlbjEsIGxlbjIsIGxpbmUsIG0sIG1hdGNoZXMsIG1pblNwYWNlLCByb3csIHJvd3MsIHNlY29uZE1pblNwYWNlLCBzcGFjZSwgdGV4dCwgdHlwZTtcbiAgICAgIGh0bWwgPSAnJztcbiAgICAgIG1pblNwYWNlID0gOTk5OTk7XG4gICAgICByb3dzID0gW107XG4gICAgICBmb3IgKGtleSA9IGogPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGogPCBsZW47IGtleSA9ICsraikge1xuICAgICAgICBsaW5lID0gbGluZXNba2V5XTtcbiAgICAgICAgaWYgKG1hdGNoZXMgPSBsaW5lLm1hdGNoKC9eKFxccyopKCg/OlswLTlhLXpdK1xcLj8pfFxcLXxcXCt8XFwqKShcXHMrKSguKikkLykpIHtcbiAgICAgICAgICBzcGFjZSA9IG1hdGNoZXNbMV0ubGVuZ3RoO1xuICAgICAgICAgIHR5cGUgPSAwIDw9ICcrLSonLmluZGV4T2YobWF0Y2hlc1syXSkgPyAndWwnIDogJ29sJztcbiAgICAgICAgICBtaW5TcGFjZSA9IE1hdGgubWluKHNwYWNlLCBtaW5TcGFjZSk7XG4gICAgICAgICAgcm93cy5wdXNoKFtzcGFjZSwgdHlwZSwgbGluZSwgbWF0Y2hlc1s0XV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvd3MucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm91bmQgPSBmYWxzZTtcbiAgICAgIHNlY29uZE1pblNwYWNlID0gOTk5OTk7XG4gICAgICBmb3IgKGwgPSAwLCBsZW4xID0gcm93cy5sZW5ndGg7IGwgPCBsZW4xOyBsKyspIHtcbiAgICAgICAgcm93ID0gcm93c1tsXTtcbiAgICAgICAgaWYgKHJvdyBpbnN0YW5jZW9mIEFycmF5ICYmIHJvd1swXSAhPT0gbWluU3BhY2UpIHtcbiAgICAgICAgICBzZWNvbmRNaW5TcGFjZSA9IE1hdGgubWluKHNlY29uZE1pblNwYWNlLCByb3dbMF0pO1xuICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2Vjb25kTWluU3BhY2UgPSBmb3VuZCA/IHNlY29uZE1pblNwYWNlIDogbWluU3BhY2U7XG4gICAgICBsYXN0VHlwZSA9ICcnO1xuICAgICAgbGVmdExpbmVzID0gW107XG4gICAgICBmb3IgKG0gPSAwLCBsZW4yID0gcm93cy5sZW5ndGg7IG0gPCBsZW4yOyBtKyspIHtcbiAgICAgICAgcm93ID0gcm93c1ttXTtcbiAgICAgICAgaWYgKHJvdyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgc3BhY2UgPSByb3dbMF0sIHR5cGUgPSByb3dbMV0sIGxpbmUgPSByb3dbMl0sIHRleHQgPSByb3dbM107XG4gICAgICAgICAgaWYgKHNwYWNlICE9PSBtaW5TcGFjZSkge1xuICAgICAgICAgICAgbGVmdExpbmVzLnB1c2gobGluZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeXFxcXHN7XCIgKyBzZWNvbmRNaW5TcGFjZSArIFwifVwiKSwgJycpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxlZnRMaW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gJzxsaT4nICsgKHRoaXMucGFyc2UobGVmdExpbmVzLmpvaW4oXCJcXG5cIikpKSArICc8L2xpPic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdFR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgaWYgKCEhbGFzdFR5cGUpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9IFwiPC9cIiArIGxhc3RUeXBlICsgXCI+XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaHRtbCArPSBcIjxcIiArIHR5cGUgKyBcIj5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxlZnRMaW5lcyA9IFt0ZXh0XTtcbiAgICAgICAgICAgIGxhc3RUeXBlID0gdHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGVmdExpbmVzLnB1c2gocm93LnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cXFxcc3tcIiArIHNlY29uZE1pblNwYWNlICsgXCJ9XCIpLCAnJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobGVmdExpbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaHRtbCArPSAnPGxpPicgKyAodGhpcy5wYXJzZShsZWZ0TGluZXMuam9pbihcIlxcblwiKSkpICsgKFwiPC9saT48L1wiICsgbGFzdFR5cGUgKyBcIj5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbDtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZVRhYmxlID0gZnVuY3Rpb24obGluZXMsIHZhbHVlKSB7XG4gICAgICB2YXIgYWxpZ25zLCBib2R5LCBjb2x1bW4sIGNvbHVtbnMsIGhlYWQsIGh0bWwsIGlnbm9yZXMsIGosIGtleSwgbCwgbGFzdCwgbGVuLCBsZW4xLCBsaW5lLCBudW0sIG91dHB1dCwgcm93LCByb3dzLCB0YWcsIHRleHQ7XG4gICAgICBpZ25vcmVzID0gdmFsdWVbMF0sIGFsaWducyA9IHZhbHVlWzFdO1xuICAgICAgaGVhZCA9IGlnbm9yZXMubGVuZ3RoID4gMCAmJiAoaWdub3Jlcy5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3Vycikge1xuICAgICAgICByZXR1cm4gY3VyciArIHByZXY7XG4gICAgICB9KSkgPiAwO1xuICAgICAgaHRtbCA9ICc8dGFibGU+JztcbiAgICAgIGJvZHkgPSBoZWFkID8gbnVsbCA6IHRydWU7XG4gICAgICBvdXRwdXQgPSBmYWxzZTtcbiAgICAgIGZvciAoa2V5ID0gaiA9IDAsIGxlbiA9IGxpbmVzLmxlbmd0aDsgaiA8IGxlbjsga2V5ID0gKytqKSB7XG4gICAgICAgIGxpbmUgPSBsaW5lc1trZXldO1xuICAgICAgICBpZiAoMCA8PSBpZ25vcmVzLmluZGV4T2Yoa2V5KSkge1xuICAgICAgICAgIGlmIChoZWFkICYmIG91dHB1dCkge1xuICAgICAgICAgICAgaGVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgYm9keSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxpbmUgPSB0cmltKGxpbmUpO1xuICAgICAgICBvdXRwdXQgPSB0cnVlO1xuICAgICAgICBpZiAobGluZVswXSA9PT0gJ3wnKSB7XG4gICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgIGlmIChsaW5lW2xpbmUubGVuZ3RoIC0gMV0gPT09ICd8Jykge1xuICAgICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKDAsIGxpbmUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJvd3MgPSBsaW5lLnNwbGl0KCd8JykubWFwKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgIGlmIChyb3cubWF0Y2goL15cXHMrJC8pKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmltKHJvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29sdW1ucyA9IHt9O1xuICAgICAgICBsYXN0ID0gLTE7XG4gICAgICAgIGZvciAobCA9IDAsIGxlbjEgPSByb3dzLmxlbmd0aDsgbCA8IGxlbjE7IGwrKykge1xuICAgICAgICAgIHJvdyA9IHJvd3NbbF07XG4gICAgICAgICAgaWYgKHJvdy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsYXN0ICs9IDE7XG4gICAgICAgICAgICBjb2x1bW5zW2xhc3RdID0gWyhjb2x1bW5zW2xhc3RdICE9IG51bGwgPyBjb2x1bW5zW2xhc3RdWzBdICsgMSA6IDEpLCByb3ddO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29sdW1uc1tsYXN0XSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb2x1bW5zW2xhc3RdWzBdICs9IDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbHVtbnNbMF0gPSBbMSwgcm93XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWQpIHtcbiAgICAgICAgICBodG1sICs9ICc8dGhlYWQ+JztcbiAgICAgICAgfSBlbHNlIGlmIChib2R5KSB7XG4gICAgICAgICAgaHRtbCArPSAnPHRib2R5Pic7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSAnPHRyPic7XG4gICAgICAgIGZvciAoa2V5IGluIGNvbHVtbnMpIHtcbiAgICAgICAgICBjb2x1bW4gPSBjb2x1bW5zW2tleV07XG4gICAgICAgICAgbnVtID0gY29sdW1uWzBdLCB0ZXh0ID0gY29sdW1uWzFdO1xuICAgICAgICAgIHRhZyA9IGhlYWQgPyAndGgnIDogJ3RkJztcbiAgICAgICAgICBodG1sICs9IFwiPFwiICsgdGFnO1xuICAgICAgICAgIGlmIChudW0gPiAxKSB7XG4gICAgICAgICAgICBodG1sICs9IFwiIGNvbHNwYW49XFxcIlwiICsgbnVtICsgXCJcXFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoYWxpZ25zW2tleV0gIT0gbnVsbCkgJiYgYWxpZ25zW2tleV0gIT09ICdub25lJykge1xuICAgICAgICAgICAgaHRtbCArPSBcIiBhbGlnbj1cXFwiXCIgKyBhbGlnbnNba2V5XSArIFwiXFxcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBodG1sICs9ICc+JyArICh0aGlzLnBhcnNlSW5saW5lKHRleHQpKSArIChcIjwvXCIgKyB0YWcgKyBcIj5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSAnPC90cj4nO1xuICAgICAgICBpZiAoaGVhZCkge1xuICAgICAgICAgIGh0bWwgKz0gJzwvdGhlYWQ+JztcbiAgICAgICAgfSBlbHNlIGlmIChib2R5KSB7XG4gICAgICAgICAgYm9keSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYm9keSAhPT0gbnVsbCkge1xuICAgICAgICBodG1sICs9ICc8L3Rib2R5Pic7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbCArPSAnPC90YWJsZT4nO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlSHIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnPGhyPic7XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VOb3JtYWwgPSBmdW5jdGlvbihsaW5lcykge1xuICAgICAgdmFyIHN0cjtcbiAgICAgIGxpbmVzID0gbGluZXMubWFwKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5wYXJzZUlubGluZShsaW5lKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHN0ciA9IHRyaW0obGluZXMuam9pbihcIlxcblwiKSk7XG4gICAgICBzdHIgPSBzdHIucmVwbGFjZSgvKFxcblxccyopezIsfS9nLCAnPC9wPjxwPicpO1xuICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xuICAgICAgaWYgKHN0ci5tYXRjaCgvXlxccyokLykpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiPHA+XCIgKyBzdHIgKyBcIjwvcD5cIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUZvb3Rub3RlID0gZnVuY3Rpb24obGluZXMsIHZhbHVlKSB7XG4gICAgICB2YXIgaW5kZXgsIG5vdGUsIHNwYWNlO1xuICAgICAgc3BhY2UgPSB2YWx1ZVswXSwgbm90ZSA9IHZhbHVlWzFdO1xuICAgICAgaW5kZXggPSB0aGlzLmZvb3Rub3Rlcy5pbmRleE9mKG5vdGUpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgbGluZXMgPSBsaW5lcy5zbGljZSgwKTtcbiAgICAgICAgbGluZXNbMF0gPSBsaW5lc1swXS5yZXBsYWNlKC9eXFxbXFxeKCg/OlteXFxdXXxcXF18XFxbKSs/KVxcXTovLCAnJyk7XG4gICAgICAgIHRoaXMuZm9vdG5vdGVzW2luZGV4XSA9IGxpbmVzO1xuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlSHRtbCA9IGZ1bmN0aW9uKGxpbmVzLCB0eXBlKSB7XG4gICAgICBsaW5lcyA9IGxpbmVzLm1hcCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucGFyc2VJbmxpbmUobGluZSwgX3RoaXMuc3BlY2lhbFdoaXRlTGlzdFt0eXBlXSAhPSBudWxsID8gX3RoaXMuc3BlY2lhbFdoaXRlTGlzdFt0eXBlXSA6ICcnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLmNsZWFuVXJsID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICB2YXIgbWF0Y2hlcztcbiAgICAgIGlmICghIShtYXRjaGVzID0gdXJsLm1hdGNoKC9eXFxzKigoaHR0cHxodHRwc3xmdHB8bWFpbHRvKTpbeDgwLXhmZl9hLXowLTktXFwuXFwvJSNAXFw/XFwrPX5cXHxcXCwmXFwoXFwpXSspL2kpKSkge1xuICAgICAgICBtYXRjaGVzWzFdO1xuICAgICAgfVxuICAgICAgaWYgKCEhKG1hdGNoZXMgPSB1cmwubWF0Y2goL15cXHMqKFt4ODAteGZmX2EtejAtOS1cXC5cXC8lI0BcXD9cXCs9flxcfFxcLCZdKykvaSkpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcjJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5lc2NhcGVCcmFja2V0ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyX3JlcGxhY2UoWydcXFxcWycsICdcXFxcXScsICdcXFxcKCcsICdcXFxcKSddLCBbJ1snLCAnXScsICcoJywgJyknXSwgc3RyKTtcbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5zdGFydEJsb2NrID0gZnVuY3Rpb24odHlwZSwgc3RhcnQsIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnBvcyArPSAxO1xuICAgICAgdGhpcy5jdXJyZW50ID0gdHlwZTtcbiAgICAgIHRoaXMuYmxvY2tzLnB1c2goW3R5cGUsIHN0YXJ0LCBzdGFydCwgdmFsdWVdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLmVuZEJsb2NrID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSAnbm9ybWFsJztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLmlzQmxvY2sgPSBmdW5jdGlvbih0eXBlLCB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCA9PT0gdHlwZSAmJiAobnVsbCA9PT0gdmFsdWUgPyB0cnVlIDogdGhpcy5ibG9ja3NbdGhpcy5wb3NdWzNdID09PSB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUuZ2V0QmxvY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmJsb2Nrc1t0aGlzLnBvc10gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9ja3NbdGhpcy5wb3NdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUuc2V0QmxvY2sgPSBmdW5jdGlvbih0bywgdmFsdWUpIHtcbiAgICAgIGlmICh0byA9PSBudWxsKSB7XG4gICAgICAgIHRvID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0byAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmJsb2Nrc1t0aGlzLnBvc11bMl0gPSB0bztcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmJsb2Nrc1t0aGlzLnBvc11bM10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLmJhY2tCbG9jayA9IGZ1bmN0aW9uKHN0ZXAsIHR5cGUsIHZhbHVlKSB7XG4gICAgICB2YXIgaXRlbSwgbGFzdDtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBvcyA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRCbG9jayh0eXBlLCAwLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBsYXN0ID0gdGhpcy5ibG9ja3NbdGhpcy5wb3NdWzJdO1xuICAgICAgdGhpcy5ibG9ja3NbdGhpcy5wb3NdWzJdID0gbGFzdCAtIHN0ZXA7XG4gICAgICBpdGVtID0gW3R5cGUsIGxhc3QgLSBzdGVwICsgMSwgbGFzdCwgdmFsdWVdO1xuICAgICAgaWYgKHRoaXMuYmxvY2tzW3RoaXMucG9zXVsxXSA8PSB0aGlzLmJsb2Nrc1t0aGlzLnBvc11bMl0pIHtcbiAgICAgICAgdGhpcy5wb3MgKz0gMTtcbiAgICAgICAgdGhpcy5ibG9ja3MucHVzaChpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYmxvY2tzW3RoaXMucG9zXSA9IGl0ZW07XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnQgPSB0eXBlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUuY29tYmluZUJsb2NrID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VycmVudCwgcHJldjtcbiAgICAgIGlmICh0aGlzLnBvcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBwcmV2ID0gdGhpcy5ibG9ja3NbdGhpcy5wb3MgLSAxXS5zbGljZSgwKTtcbiAgICAgIGN1cnJlbnQgPSB0aGlzLmJsb2Nrc1t0aGlzLnBvc10uc2xpY2UoMCk7XG4gICAgICBwcmV2WzJdID0gY3VycmVudFsyXTtcbiAgICAgIHRoaXMuYmxvY2tzW3RoaXMucG9zIC0gMV0gPSBwcmV2O1xuICAgICAgdGhpcy5jdXJyZW50ID0gcHJldlswXTtcbiAgICAgIHRoaXMuYmxvY2tzID0gdGhpcy5ibG9ja3Muc2xpY2UoMCwgLTEpO1xuICAgICAgdGhpcy5wb3MgLT0gMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFyc2VyO1xuXG4gIH0pKCk7XG5cbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlICE9PSBudWxsKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBQYXJzZXI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cgIT09IG51bGwpIHtcbiAgICB3aW5kb3cuSHlwZXJEb3duID0gUGFyc2VyO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaHlwZXJkb3duL1BhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 1 */
/***/ function(module, exports) {

eval("module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: false,\r\n\t\t\tget: function() { return module.l; }\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: false,\r\n\t\t\tget: function() { return module.i; }\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanM/YzNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZighbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZS5sOyB9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlLmk7IH1cclxuXHRcdH0pO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

eval("/**\n * Created by tanjibo on 2017/4/19.\n */\nHyperDown = __webpack_require__(0);\n\nvar parser = new HyperDown,\n    html = parser.makeHtml(markdownText);\nconsole.log(parser);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2pzL2Zyb250L2VkaXQuanM/MDA3YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdGFuamlibyBvbiAyMDE3LzQvMTkuXG4gKi9cbkh5cGVyRG93biA9IHJlcXVpcmUoJ2h5cGVyZG93bicpO1xuXG52YXIgcGFyc2VyID0gbmV3IEh5cGVyRG93bixcbiAgICBodG1sID0gcGFyc2VyLm1ha2VIdG1sKG1hcmtkb3duVGV4dCk7XG5jb25zb2xlLmxvZyhwYXJzZXIpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2pzL2Zyb250L2VkaXQuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }
/******/ ]);